<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Court Documents Generator | Sarah Okafor Chambers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content auth-modal">
            <div class="auth-header">
                <h2>Court Documents Generator</h2>
                <p>Sign in to generate professional court documents</p>
            </div>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Sign In</button>
                <button class="auth-tab" data-tab="register">Register</button>
            </div>
            <form id="loginForm" class="auth-form active">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required placeholder="Enter password">
                </div>
                <button type="submit" class="btn btn-primary btn-full">Sign In</button>
                <p class="auth-error" id="loginError"></p>
            </form>
            <form id="registerForm" class="auth-form">
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" required placeholder="Min 6 characters">
                </div>
                <div class="form-group">
                    <label for="registerConfirm">Confirm Password</label>
                    <input type="password" id="registerConfirm" required placeholder="Confirm password">
                </div>
                <button type="submit" class="btn btn-primary btn-full">Create Account</button>
                <p class="auth-error" id="registerError"></p>
            </form>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="app-container hidden">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                    <span>Court Documents Generator</span>
                </div>
                <div class="header-actions">
                    <span id="userEmail" class="user-email"></span>
                    <button id="signOutBtn" class="btn btn-outline btn-sm">Sign Out</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Step 1: Select Document Type -->
            <section id="step1" class="step active">
                <div class="step-header">
                    <span class="step-number">1</span>
                    <h2>Select Document Type</h2>
                </div>
                <div class="document-types">
                    <button class="doc-type-card" data-type="witness-statement">
                        <div class="doc-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                <line x1="12" y1="11" x2="12" y2="17"></line>
                                <line x1="9" y1="14" x2="15" y2="14"></line>
                            </svg>
                        </div>
                        <h3>Witness Statement</h3>
                        <p>Factual evidence from witnesses with statement of truth</p>
                    </button>
                    <button class="doc-type-card" data-type="skeleton-argument">
                        <div class="doc-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                                <line x1="8" y1="6" x2="16" y2="6"></line>
                                <line x1="8" y1="10" x2="16" y2="10"></line>
                                <line x1="8" y1="14" x2="12" y2="14"></line>
                            </svg>
                        </div>
                        <h3>Skeleton Argument</h3>
                        <p>Legal submissions with issues, law, and application</p>
                    </button>
                    <button class="doc-type-card" data-type="position-statement">
                        <div class="doc-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                            </svg>
                        </div>
                        <h3>Position Statement</h3>
                        <p>Party's position for court hearings</p>
                    </button>
                    <button class="doc-type-card" data-type="draft-order">
                        <div class="doc-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                                <line x1="12" y1="17" x2="12.01" y2="17"></line>
                            </svg>
                        </div>
                        <h3>Draft Order</h3>
                        <p>Proposed court orders with recitals and provisions</p>
                    </button>
                </div>
            </section>

            <!-- Step 2: Case Details -->
            <section id="step2" class="step">
                <div class="step-header">
                    <span class="step-number">2</span>
                    <h2>Case Details</h2>
                </div>
                <div class="form-card">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="courtName">Court</label>
                            <select id="courtName" required>
                                <option value="">Select Court</option>
                                <option value="IN THE COURT OF PROTECTION">Court of Protection</option>
                                <option value="IN THE HIGH COURT OF JUSTICE&#10;FAMILY DIVISION">High Court - Family Division</option>
                                <option value="IN THE HIGH COURT OF JUSTICE&#10;CHANCERY DIVISION">High Court - Chancery Division</option>
                                <option value="IN THE HIGH COURT OF JUSTICE&#10;KING'S BENCH DIVISION">High Court - King's Bench Division</option>
                                <option value="IN THE HIGH COURT OF JUSTICE&#10;KING'S BENCH DIVISION&#10;ADMINISTRATIVE COURT">Administrative Court</option>
                                <option value="IN THE FAMILY COURT">Family Court</option>
                                <option value="IN THE COUNTY COURT">County Court</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="caseNumber">Case Number</label>
                            <input type="text" id="caseNumber" placeholder="e.g., 20025995" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="matterOf">In the Matter of (Statute/Act)</label>
                        <input type="text" id="matterOf" placeholder="e.g., THE MENTAL CAPACITY ACT 2005">
                    </div>
                    <div class="form-group">
                        <label for="inMatterPerson">In the Matter of (Person/Property)</label>
                        <input type="text" id="inMatterPerson" placeholder="e.g., JOHN SMITH or 123 High Street, London">
                    </div>

                    <h3 class="form-section-title">Parties</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="party1Name">Party 1 Name</label>
                            <input type="text" id="party1Name" placeholder="e.g., THE AUTHORISED OFFICER OF THURROCK COUNCIL">
                        </div>
                        <div class="form-group">
                            <label for="party1Role">Party 1 Designation</label>
                            <select id="party1Role">
                                <option value="Applicant">Applicant</option>
                                <option value="Claimant">Claimant</option>
                                <option value="Petitioner">Petitioner</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="party2Name">Party 2 Name</label>
                            <input type="text" id="party2Name" placeholder="e.g., JOHN SMITH (by his Accredited Legal Representative)">
                        </div>
                        <div class="form-group">
                            <label for="party2Role">Party 2 Designation</label>
                            <select id="party2Role">
                                <option value="Respondent">Respondent</option>
                                <option value="Defendant">Defendant</option>
                                <option value="First Respondent">First Respondent</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" id="backToStep1">Back</button>
                        <button type="button" class="btn btn-primary" id="toStep3">Continue</button>
                    </div>
                </div>
            </section>

            <!-- Step 3: Document Content (Dynamic based on type) -->
            <section id="step3" class="step">
                <div class="step-header">
                    <span class="step-number">3</span>
                    <h2 id="step3Title">Document Content</h2>
                </div>

                <!-- Witness Statement Form -->
                <div id="witnessStatementForm" class="document-form hidden">
                    <div class="form-card">
                        <h3 class="form-section-title">Witness Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="witnessName">Full Name of Witness</label>
                                <input type="text" id="witnessName" placeholder="e.g., Richard Hansell">
                            </div>
                            <div class="form-group">
                                <label for="witnessRole">Role/Position</label>
                                <input type="text" id="witnessRole" placeholder="e.g., Social Worker, Thurrock Council">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="witnessAddress">Address</label>
                                <input type="text" id="witnessAddress" placeholder="Professional address">
                            </div>
                            <div class="form-group">
                                <label for="statementNumber">Statement Number</label>
                                <select id="statementNumber">
                                    <option value="1st">1st Statement</option>
                                    <option value="2nd">2nd Statement</option>
                                    <option value="3rd">3rd Statement</option>
                                    <option value="4th">4th Statement</option>
                                    <option value="5th">5th Statement</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="exhibitMark">Exhibit Mark (if any)</label>
                            <input type="text" id="exhibitMark" placeholder="e.g., RH-1">
                        </div>

                        <h3 class="form-section-title">Statement Content</h3>
                        <div class="form-group">
                            <label for="wsIntro">Introduction</label>
                            <textarea id="wsIntro" rows="3" placeholder="I, [Name], of [Address], [Role], make this statement in support of..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="wsBody">Main Content (use numbered paragraphs)</label>
                            <textarea id="wsBody" rows="12" placeholder="1. I am the allocated social worker for P and have been since [date].&#10;&#10;2. This statement addresses...&#10;&#10;3. ..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Skeleton Argument Form -->
                <div id="skeletonArgumentForm" class="document-form hidden">
                    <div class="form-card">
                        <h3 class="form-section-title">Hearing Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="hearingDate">Hearing Date</label>
                                <input type="date" id="hearingDate">
                            </div>
                            <div class="form-group">
                                <label for="hearingType">Hearing Type</label>
                                <input type="text" id="hearingType" placeholder="e.g., Final Hearing, Directions Hearing">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="timeEstimate">Time Estimate</label>
                            <input type="text" id="timeEstimate" placeholder="e.g., 2 hours">
                        </div>

                        <h3 class="form-section-title">Skeleton Content</h3>
                        <div class="form-group">
                            <label for="skIntro">Introduction</label>
                            <textarea id="skIntro" rows="3" placeholder="This skeleton argument is filed on behalf of the Applicant..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="skIssues">Issues</label>
                            <textarea id="skIssues" rows="4" placeholder="The issues for determination are:&#10;a) Whether P lacks capacity to...&#10;b) Whether it is in P's best interests to..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="skLaw">Legal Framework</label>
                            <textarea id="skLaw" rows="6" placeholder="The applicable legal framework is:&#10;&#10;Mental Capacity Act 2005, sections 1-4..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="skApplication">Application of Law to Facts</label>
                            <textarea id="skApplication" rows="6" placeholder="Applying the legal framework to the facts of this case..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="skRelief">Relief Sought</label>
                            <textarea id="skRelief" rows="3" placeholder="The Applicant invites the court to make the following orders:&#10;a) A declaration that...&#10;b) An order that..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="skAuthorities">Authorities List</label>
                            <textarea id="skAuthorities" rows="4" placeholder="1. Re X [2024] EWCOP 1&#10;2. Cheshire West [2014] UKSC 19"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Position Statement Form -->
                <div id="positionStatementForm" class="document-form hidden">
                    <div class="form-card">
                        <h3 class="form-section-title">Hearing Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="psHearingDate">Hearing Date</label>
                                <input type="date" id="psHearingDate">
                            </div>
                            <div class="form-group">
                                <label for="psOnBehalfOf">On Behalf Of</label>
                                <input type="text" id="psOnBehalfOf" placeholder="e.g., The Applicant">
                            </div>
                        </div>

                        <h3 class="form-section-title">Position Statement Content</h3>
                        <div class="form-group">
                            <label for="psIntro">Introduction & Background</label>
                            <textarea id="psIntro" rows="4" placeholder="1. This position statement is filed on behalf of...&#10;&#10;2. Background..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="psCurrentPosition">Current Position</label>
                            <textarea id="psCurrentPosition" rows="6" placeholder="The Applicant's current position is..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="psOrders">Orders Sought</label>
                            <textarea id="psOrders" rows="4" placeholder="The Applicant invites the court to:&#10;a) Make a declaration that...&#10;b) Approve..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="psOutstanding">Outstanding Issues (if any)</label>
                            <textarea id="psOutstanding" rows="3" placeholder="The following matters remain outstanding..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Draft Order Form -->
                <div id="draftOrderForm" class="document-form hidden">
                    <div class="form-card">
                        <h3 class="form-section-title">Order Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="orderType">Order Type</label>
                                <select id="orderType">
                                    <option value="ORDER">Order</option>
                                    <option value="DIRECTIONS ORDER">Directions Order</option>
                                    <option value="FINAL ORDER">Final Order</option>
                                    <option value="CONSENT ORDER">Consent Order</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="judgeName">Judge (if known)</label>
                                <input type="text" id="judgeName" placeholder="e.g., HHJ Smith">
                            </div>
                        </div>

                        <h3 class="form-section-title">Recitals</h3>
                        <div class="form-group">
                            <label for="recitals">Recitals (each on new line)</label>
                            <textarea id="recitals" rows="5" placeholder="UPON reading the application dated...&#10;AND UPON hearing counsel for the Applicant...&#10;AND UPON the court being satisfied that..."></textarea>
                        </div>

                        <h3 class="form-section-title">Order Provisions</h3>
                        <div class="form-group">
                            <label for="orderProvisions">Provisions (numbered)</label>
                            <textarea id="orderProvisions" rows="8" placeholder="IT IS ORDERED THAT:&#10;&#10;1. P lacks capacity to make decisions about...&#10;&#10;2. It is in P's best interests to...&#10;&#10;3. Liberty to apply."></textarea>
                        </div>

                        <h3 class="form-section-title">Service & Costs</h3>
                        <div class="form-group">
                            <label for="serviceProvisions">Service Provisions</label>
                            <textarea id="serviceProvisions" rows="3" placeholder="This order shall be served on all parties within 7 days."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="costsProvisions">Costs</label>
                            <input type="text" id="costsProvisions" placeholder="e.g., No order as to costs / Costs reserved">
                        </div>
                    </div>
                </div>

                <div class="form-card">
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" id="backToStep2">Back</button>
                        <button type="button" class="btn btn-primary" id="toStep4">Continue to Preview</button>
                    </div>
                </div>
            </section>

            <!-- Step 4: Preview & Generate -->
            <section id="step4" class="step">
                <div class="step-header">
                    <span class="step-number">4</span>
                    <h2>Preview & Generate</h2>
                </div>
                <div class="preview-container">
                    <div class="preview-header">
                        <h3>Document Preview</h3>
                        <div class="preview-actions">
                            <button class="btn btn-outline btn-sm" id="editDocument">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                                Edit
                            </button>
                        </div>
                    </div>
                    <div id="previewContent" class="preview-content">
                        <!-- Preview will be rendered here -->
                    </div>
                </div>

                <div class="form-card">
                    <h3 class="form-section-title">Signature Block</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="preparedBy">Prepared By</label>
                            <input type="text" id="preparedBy" value="Sarah Okafor, Barrister">
                        </div>
                        <div class="form-group">
                            <label for="documentDate">Date</label>
                            <input type="date" id="documentDate">
                        </div>
                    </div>

                    <h3 class="form-section-title">Download Options</h3>
                    <div class="download-options">
                        <button class="btn btn-primary btn-lg" id="downloadWord">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                            </svg>
                            Download Word (.docx)
                        </button>
                        <button class="btn btn-secondary btn-lg" id="downloadPDF">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <path d="M12 18v-6"></path>
                                <path d="M9 15l3 3 3-3"></path>
                            </svg>
                            Download PDF
                        </button>
                    </div>

                    <div class="form-actions" style="margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="backToStep3">Back</button>
                        <button type="button" class="btn btn-outline" id="startOver">Start New Document</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2026 Sarah Okafor Chambers. All rights reserved.</p>
            <p><a href="https://sarah-okafor-hub.pages.dev" target="_blank">Sarah Okafor Hub</a></p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/docx@8.2.3/build/index.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="auth.js"></script>
    <script src="app.js"></script>
</body>
</html>
